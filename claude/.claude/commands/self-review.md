---
description: 現在のブランチの変更内容を体系的にレビューする
allowed-tools: Bash, Read
---

# セルフレビュー

現在のブランチの変更内容を詳細にレビューし、コード品質・リスク・改善提案を提供します。

## 実行手順

### 1. Git情報を収集

以下の情報を並列で取得してください：

```bash
# 現在のブランチ名
git branch --show-current

# コミット履歴
git log origin/main..HEAD --oneline

# 変更ファイル一覧
git diff origin/main --name-only

# 変更の統計
git diff origin/main --stat

# 変更内容の詳細
git diff origin/main..HEAD
```

### 2. レビュー実施

以下の観点で変更内容を分析してください：

#### 変更サマリー
- 変更ファイル数
- 追加/削除行数
- コミット数

#### 各ファイルのレビュー

変更された各ファイルについて：

**評価項目:**
- ✅ 良い点（コード品質、設計、可読性など）
- ⚠️ 懸念点（潜在的なバグ、パフォーマンス、セキュリティなど）
- 💡 改善提案（オプショナル）

**観点:**
1. **コード品質**
   - 可読性・保守性
   - 命名規則
   - コメント・ドキュメント

2. **設計**
   - 責務の分離
   - 再利用性
   - 依存関係

3. **機能性**
   - 変更の目的達成度
   - エッジケースの考慮
   - エラーハンドリング

4. **整合性**
   - 既存コードとの統一性
   - プロジェクトの規約遵守
   - 他ファイルとの整合性

5. **リスク評価**
   - セキュリティリスク
   - パフォーマンスへの影響
   - 後方互換性

### 3. 総合評価

最後に総合評価を提供してください：

```markdown
## 総合評価

**承認推奨** ✅ / **条件付き承認** ⚠️ / **要修正** ❌

| 項目 | 評価 |
|-----|------|
| コード品質 | [高い/中程度/低い] |
| 可読性 | [優秀/良好/要改善] |
| リスク | [なし/低/中/高] |
| 推奨アクション | [そのままマージ/軽微な修正後マージ/大幅な修正が必要] |

### 特に良かった点
- [箇条書き]

### 改善すべき点
- [箇条書き]

### 次のアクション
- [具体的な次のステップ]
```

---

## 注意事項

- コミットメッセージも確認し、変更内容との整合性をチェック
- 小さな typo や formatting の問題も指摘する
- ただし、過度に厳しくせず、バランスの取れたレビューを心がける
- 改善提案は具体的に（「もっと良くできる」ではなく「○○すると良い」）
